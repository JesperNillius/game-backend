<!DOCTYPE html>
<!-- saved from url=(0046)http://127.0.0.1:5500/game-frontend/index.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>Patient Rooms with Info Panel</title>

  <link rel="preconnect" href="https://fonts.googleapis.com/">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
  <link href="./Patient Rooms with Info Panel_files/css2" rel="stylesheet">
  <link rel="stylesheet" href="./Patient Rooms with Info Panel_files/style.css">

</head>
<body>

<canvas id="gameCanvas" width="1300" height="650"></canvas>

<div id="vitalsPopup" style="display: none;">
  <div id="vitalsHeader">
    <h3 id="vitalsTitle">Britta, 82 år</h3>
  <p class="chief-complaint">Feber och Frossa</p></div>

  <div id="vitalsBody">
    <div class="accordion">
      <button class="accordion-header">Vital Signs</button>
      <div class="accordion-content" id="vitalsContent"><div>AF: 26</div><div>Saturation: 92</div><div>Puls: 115</div><div>BT: 95/55</div><div>Temp: 39.4</div><div>RLS: 2</div></div>
    </div>

    <div class="accordion">
      <button class="accordion-header">Physical Exam</button>
      <div class="accordion-content" id="physExamContent"></div>
    </div>
    
    <div class="accordion">
      <button class="accordion-header">Lab Results</button>
      <div class="accordion-content" id="labResultsContent"></div>
    </div>

    <div class="accordion">
      <button class="accordion-header">Administered Meds</button>
      <div class="accordion-content" id="administeredMedsContent"></div>
    </div>

    <div class="accordion">
      <button class="accordion-header">Bedside Tests</button>
      <div class="accordion-content" id="bedsideTestContent"></div>
    </div>
  </div>
</div>

<div class="game-ui">
  <button id="resetBtn">New Game</button> 
</div>

<div class="menu" id="menu" style="display: none;">
  <h1>Patient Rooms</h1>
  <div class="hint">Click play to start admitting patients</div>
  <div class="controls">
    <button id="playBtn">Play</button>
    <button id="settingsBtn">Settings</button>
  </div>
  <div class="badge" id="dataBadge">No data loaded</div>
</div>

<!-- Sidebar panel -->
<div id="infoPanel">
  <h2 id="infoName">Patient</h2>
  <div id="infoDetails"></div>
  <button id="closeInfo">Close</button>
</div>

<div id="roomMenu" style="display: none;">
  <h2>Patient Actions</h2>
  <button id="btnAnamnesis">Anamnesis</button>
  <button id="btnPhysical">Physical Exam</button>
  <button id="btnBedside">Bedside Tests</button>
  <button id="btnLab">Lab Tests</button>
  <button id="btnMeds">Medication</button>
  <button id="btnRadiology">Radiology</button>
  <button id="btnDischarge" class="btn-action-final">Discharge Patient</button> </div>



<div id="physicalExamMenu" class="submenu" style="display: none;">
  <h4>Physical Exam</h4>
  <button data-exam="Hjärta">Hjärta</button>
  <button data-exam="Lungor">Lungor</button>
  <button data-exam="Buk">Buk</button>
  <button data-exam="Neurologi">Neurologi</button>
  <button data-exam="Tyroidea">Tyroidea</button>
  <button data-exam="Mun &amp; Svalg">Mun och Svalg</button>
  <button data-exam="Lymfkörtlar">Lymfkörtlar</button>
  <button data-exam="Underben">Underben</button>
  </div>

<div id="labMenu" class="submenu" style="display: none;">
  <h4>Lab Tests</h4>
  <input type="search" id="labSearchInput" class="submenu-search-input" placeholder="Search for a test...">
  <div id="labTestList">
    </div>
</div>

<div id="medsMenu" class="submenu" style="display: none;">
  <h4>Administer Medication</h4>
  <input type="search" id="medsSearchInput" class="submenu-search-input" placeholder="Search for a medication...">
  <div id="medsList">
    <!-- Medication buttons will be generated here later -->
  </div>
</div>

<div id="bedsideMenu" class="submenu" style="display: none;">
  <h4>Bedside Tests</h4>
  <div id="bedsideTestList">
    </div>
</div>

<div id="chatWindow" class="submenu" style="display: none;">
  <h4>Anamnesis</h4>
  <div id="chatMessages"></div>
  <div class="chat-input-area">
    <input id="chatInput" type="text" placeholder="Ask the patient...">
    <button id="sendBtn">Send</button>
  </div>
</div>

<div id="dispositionModal" class="modal-backdrop">
  <div class="modal-content">
    <h3>Select Disposition</h3>
    <p>Where will you send the patient?</p>
    <div class="disposition-choices">
      <button id="btnSendHome">Send Home</button>
      <button id="btnAdmitWard">Admit to Ward</button>
    </div>
    <button id="btnCancelDisposition" style="background: #555; margin-top: 15px;">Cancel</button>
  </div>
</div>

<div id="diagnosisModal" class="modal-backdrop">
  <div class="modal-content">
    <h3>Suggest Diagnosis</h3>
    <p>Based on your findings, what is the most likely diagnosis?</p>
    <input type="text" id="diagnosisInput" class="submenu-search-input" placeholder="Type diagnosis..." style="text-align: center; margin: 15px 0;">
    <div class="disposition-choices">
      <button id="btnConfirmDiagnosis">Confirm</button>
      <button id="btnCancelDiagnosis" style="background: #555;">Cancel</button>
    </div>
  </div>
</div>

<div id="feedbackModal" class="modal-backdrop">
  <div class="modal-content large-modal">
    
    <button id="closeFeedback" title="Close Report">×</button>

    <h2 id="feedbackTitle">Case Report</h2>
    <div id="feedbackContent">
      </div>
  </div>
</div>

<div id="ekgModal" class="modal-backdrop">
  <div class="modal-content large-modal">
    <button id="closeEkgModal" title="Close EKG">×</button>
    <h3>EKG Analysis</h3>
    <div id="ekgImageContainer">
      <img id="ekgImage" src="http://127.0.0.1:5500/game-frontend/index.html" alt="Patient EKG">
    </div>
    <div id="ekgInterpretation" style="display: none; margin-top: 15px; border-top: 1px solid #555; padding-top: 15px;">
      <h4>Official Interpretation:</h4>
      <p id="ekgInterpretationText"></p>
    </div>
    <button id="showEkgInterpretationBtn">Show Interpretation</button>
  </div>
</div>
  
<script src="./Patient Rooms with Info Panel_files/script.js"></script>

<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>


</body></html>